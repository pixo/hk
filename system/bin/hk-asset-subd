#!/usr/bin/env python
import argparse, os

def cli( src, subd ):
	if src == None :
		print ("hk-asset-subd: Please provide an input file. Check the help(-h)")
		return False

	source = os.path.abspath ( src )
	fobj, ext = os.path.splitext ( source ) 
	fobj = "%s_subd%s.obj" % ( fobj, subd )
	mayap = "maya"
	os.system ( """%s -batch -file %s -command '''hkExportSubd("%s","%s");''' """ % ( mayap, source, fobj, subd ) )

if __name__ == '__main__':
	parser = argparse.ArgumentParser()
	parser.add_argument( "-i", "--input", help = "input file")
	parser.add_argument( "-s", "--subd", default = "1", help = "subdivision number, default = 1")
	args = parser.parse_args ()
	cli ( args.input, args.subd )