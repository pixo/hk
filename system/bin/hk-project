#!/bin/bash

if [ -z "$HK_PROJECT" ] 
	then
		if [ "-d" == $1 ]
			then
				devmode=true
				codepath=/$HK_ROOT/users/$USER/codes/debug
				project=$2
			else
				devmode=false
				codepath=$HK_ROOT/codes/release
				project=$1
		fi

		export HK_DEV_MODE=$devmode
		export HK_PROJECTS_PATH=/$HK_ROOT/projects
		export HK_CODE_PATH=$codepath
		PROJECTENV=$HK_ROOT/codes/projenv/$project.env

		if [ -a $PROJECTENV ]
		  	then
		  		export HK_PROJECT=$project
		    	bash --rcfile $PROJECTENV
		    else
		    	echo "project '$1' doesn't exists."
		fi

else
		echo "You already are in the project '$HK_PROJECT'. Please use the command 'exit' and try again."

fi